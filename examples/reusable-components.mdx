import { Claude, Persona, Constraints, OutputFormat, Phase, Step } from 'smithers'

# Reusable Components

This example shows how to build a library of reusable prompt components.

## Custom Components

export function SecurityReviewer({ children }) {
  return (
    <>
      <Persona role="security engineer">
        You specialize in application security with expertise in OWASP Top 10.
      </Persona>

      <Constraints>
        - Focus exclusively on security vulnerabilities
        - Rate severity using CVSS guidelines
        - Always suggest remediation steps
      </Constraints>

      {children}
    </>
  )
}

export function JsonOutput({ schema, children }) {
  return (
    <OutputFormat schema={schema}>
      Return valid JSON matching this schema:
      ```json
      {schema}
      ```
      {children}
    </OutputFormat>
  )
}

export function Checklist({ items }) {
  return (
    <Phase name="checklist">
      {items.map((item, i) => (
        <Step key={i}>{item}</Step>
      ))}
    </Phase>
  )
}

## Using Composed Components

<Claude>
  <SecurityReviewer>
    <Checklist items={[
      "Check for SQL injection",
      "Check for XSS vulnerabilities",
      "Check for authentication bypass",
      "Check for insecure dependencies"
    ]} />

    <JsonOutput schema={{
      type: "object",
      properties: {
        vulnerabilities: {
          type: "array",
          items: {
            type: "object",
            properties: {
              type: { type: "string" },
              severity: { type: "string" },
              location: { type: "string" },
              remediation: { type: "string" }
            }
          }
        }
      }
    }} />

    Review the authentication module for security issues.
  </SecurityReviewer>
</Claude>
