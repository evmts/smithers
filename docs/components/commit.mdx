---
title: Commit
description: Create git commits with metadata tracking
---

# Commit

```tsx
<Commit
  message="feat: Add user authentication"
  onFinished={(result) => console.log("Committed:", result.commitHash)}
/>
```

```tsx
import { Commit } from "smithers-orchestrator/components/Git";
```

Note: `Commit` is exported from `smithers-orchestrator/components/Git`, not from the main `smithers-orchestrator` package.

## Props

| Prop | Type | Description |
|------|------|-------------|
| `id` | `string?` | Stable identifier for resumability |
| `message` | `string?` | Commit message |
| `cwd` | `string?` | Repository path (defaults to `process.cwd()`) |
| `autoGenerate` | `boolean?` | Auto-generate message using Claude |
| `files` | `string[]?` | Specific files to stage |
| `all` | `boolean?` | Stage all tracked files with `-a` flag |
| `notes` | `Record<string, any>?` | Metadata to store in git notes |
| `children` | `ReactNode?` | Used as message if `message` prop not provided |
| `onFinished` | `(result: CommitResult) => void?` | Called on completion |
| `onError` | `(error: Error) => void?` | Called on error |

### CommitResult

```tsx
interface CommitResult {
  commitHash: string;
  message: string;
  filesChanged: string[];
  insertions: number;
  deletions: number;
}
```

## Auto-Generated Messages

```tsx
<Commit
  autoGenerate
  all
  notes={{ smithers: true }}
  onFinished={(r) => console.log("Message:", r.message)}
/>
```

## With Git Notes

```tsx
<Commit
  message="feat: Add feature"
  notes={{
    smithers: true,
    executionId: executionId,
    prompt: "Add user authentication",
  }}
/>
```

## Database Tracking

Commits are logged:

```tsx
const commits = db.vcs.getCommits(10);
// [{ hash: "abc123", message: "feat: Add feature", ... }]
```

## Related

<CardGroup cols={2}>
  <Card title="Review" icon="magnifying-glass" href="/components/review">
    Code review
  </Card>
  <Card title="VCS API" icon="code-branch" href="/api-reference/vcs">
    VCS database operations
  </Card>
</CardGroup>
