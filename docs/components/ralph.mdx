---
title: Ralph
description: Loop controller component for iteration-based workflows
---

# Ralph Component

<Note>
**Most users should use [`<SmithersProvider>`](/components/smithers-provider) instead.** SmithersProvider is the canonical orchestrator that handles Ralph internally along with database, state management, and lifecycle concerns. Use Ralph directly only if you need fine-grained control over the iteration loop.
</Note>

The `<Ralph>` component is the internal loop controller that powers Smithers workflows. It manages iteration count and task tracking for workflows that need to loop until completion. SmithersProvider wraps Ralph automatically—this page documents Ralph for advanced users who need direct access.

## Basic Usage

```tsx
import { Ralph } from "smithers-orchestrator";

<Ralph maxIterations={10}>
  <Claude onFinished={() => { /* state change triggers re-render */ }}>
    Keep improving until tests pass.
  </Claude>
</Ralph>
```

## Accessing Iteration Count

You can access the current iteration count via context:

```tsx
import { useSmithers } from "smithers-orchestrator";

function MyComponent() {
  const { ralphCount } = useSmithers();

  return <div>Iteration: {ralphCount}</div>;
}
```

## Props

<ParamField path="maxIterations" type="number" default="100">
  Maximum number of iteration loops before stopping.
</ParamField>

<ParamField path="onIteration" type="(iteration: number) => void">
  Called at the start of each iteration. Useful for logging or progress tracking.
</ParamField>

<ParamField path="onComplete" type="() => void">
  Called when orchestration completes (all tasks finished or max iterations reached).
</ParamField>

## Related

<CardGroup cols={2}>
  <Card title="SmithersProvider" icon="cube" href="/components/smithers-provider">
    **Start here** — the canonical orchestrator for most workflows
  </Card>
  <Card title="Ralph Wiggum Loop" icon="sitemap" href="/concepts/ralph-wiggum-loop">
    Deep dive into how the execution loop works internally
  </Card>
</CardGroup>
