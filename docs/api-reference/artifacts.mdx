---
title: Artifacts API
description: Track generated files and outputs
---

# Artifacts API

```tsx
const db = createSmithersDB({ path: ".smithers/my-workflow" });

const id = db.artifacts.add(
  "analysis-report",
  "document",
  "./reports/analysis.md",
  agentId,
  { format: "markdown", wordCount: 1500 }
);

const artifacts = db.artifacts.list(executionId);
```

All methods sync. Requires current execution via `db.execution.start()`.

## Methods

| Method | Signature | Description |
|--------|-----------|-------------|
| `add` | `(name, type, filePath, agentId?, metadata?) => string` | Add artifact, returns ID |
| `list` | `(executionId) => Artifact[]` | List execution artifacts |

## Artifact Types

| Type | Description | Examples |
|------|-------------|----------|
| `file` | Generic file | Any path |
| `code` | Source code | `.ts`, `.py` |
| `document` | Reports/docs | `.md`, `.html` |
| `image` | Images | `.png`, `.svg` |
| `data` | Data files | `.json`, `.csv` |

## Artifact Type

```tsx
interface Artifact {
  id: string;
  execution_id: string;
  agent_id?: string;
  name: string;
  type: 'file' | 'code' | 'document' | 'image' | 'data';
  file_path: string;
  metadata: Record<string, any>;
  created_at: Date;
}
```

## Usage

```tsx
<Claude
  onFinished={(result) => {
    for (const file of result.filesModified) {
      db.artifacts.add(file.name, "code", file.path, agentId, {
        linesAdded: file.insertions
      });
    }
  }}
>
  Generate endpoint.
</Claude>
```

## Querying

```tsx
const artifacts = db.artifacts.list(executionId);
const code = artifacts.filter(a => a.type === "code");
const byAgent = artifacts.filter(a => a.agent_id === agentId);
```

## Notes

- Paths stored as provided (no normalization)
- File existence not validated on `add()`
- Use repo-relative paths for portability

## Related

<CardGroup cols={2}>
  <Card title="Agents API" icon="robot" href="/api-reference/agents" />
  <Card title="VCS API" icon="code-branch" href="/api-reference/vcs" />
</CardGroup>
