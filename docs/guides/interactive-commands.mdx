---
title: Interactive CLI Commands
description: Real-time control of agent execution with slash commands
---

# Interactive CLI Commands

Smithers provides interactive slash commands for real-time control of the Ralph Wiggum loop, similar to Claude Code's interface. These commands allow you to pause, inspect, modify, and control agent execution on the fly.

## Overview

Interactive commands enable:

- **Execution Control**: Pause, resume, or abort execution
- **State Inspection**: View current status, tree structure, and node details
- **Navigation**: Jump to specific nodes in TUI
- **Behavior Modification**: Skip nodes or inject additional context
- **Debugging**: Investigate issues without restarting

## Enabling Interactive Mode

Interactive commands are available when running agents through the CLI:

```bash
smithers run agent.tsx
```

During execution, type any command prefixed with `/` and press Enter.

Commands work with or without the `--tui` flag, but work best with TUI for visual feedback.

## Command Reference

### `/pause` - Pause Execution

Pauses the Ralph Wiggum loop after the current frame completes.

```
/pause
```

**Behavior:**

- Current frame (running agents) completes
- Loop pauses before starting next frame
- TUI remains active and responsive
- Status displays: "Paused at frame N"

**Use Cases:**

- Inspect intermediate results before continuing
- Review agent output before next phase
- Debug unexpected behavior
- Take a break during long-running workflows

**Example:**

```bash
smithers run agent.tsx --tui

# During execution, type:
/pause

# Output:
# ‚è∏ Paused at frame 5
# Type /resume to continue or /status to inspect state
```

---

### `/resume` - Resume Execution

Resumes execution from a paused state.

```
/resume
```

**Behavior:**

- Continues Ralph loop from next pending frame
- Execution proceeds as if never paused

**Use Cases:**

- Continue after inspection
- Resume after manual intervention

**Example:**

```bash
# After pausing:
/resume

# Output:
# ‚ñ∂ Resumed execution
```

---

### `/status` - Show Execution Status

Displays current execution state without modifying behavior.

```
/status
```

**Output Example:**

```
Execution Status:
  Frame: 5
  Elapsed: 12.3s
  State: running

  Running Nodes: 1
    - claude[1] (phase: "implementation")

  Pending Nodes: 2
    - claude[2] (phase: "testing")
    - claude[3] (phase: "documentation")

  Completed Nodes: 8
  Failed Nodes: 0
```

**Use Cases:**

- Quick overview without navigating TUI
- Check progress in non-TUI mode
- Verify which nodes are pending
- Monitor long-running executions

---

### `/tree` - Display Node Tree

Prints the current SmithersNode tree in a compact format.

```
/tree [--full]
```

**Options:**

- `--full`: Include all props and execution state details
- (default): Show structure only

**Output Example (default):**

```
ROOT
‚îú‚îÄ phase[0] name="planning"
‚îÇ  ‚îî‚îÄ claude[0] status=complete
‚îú‚îÄ phase[1] name="implementation"
‚îÇ  ‚îú‚îÄ claude[1] status=running
‚îÇ  ‚îî‚îÄ claude[2] status=pending
‚îî‚îÄ phase[2] name="review"
   ‚îî‚îÄ claude[3] status=pending
```

**Output Example (--full):**

```
ROOT
‚îú‚îÄ phase[0] name="planning"
‚îÇ  props: { name: "planning" }
‚îÇ  execution: { status: "complete", result: "..." }
‚îÇ  ‚îî‚îÄ claude[0]
‚îÇ     props: { system: "You are a planning agent" }
‚îÇ     execution: { status: "complete", result: "Implementation plan created" }
‚îÇ     contentHash: "a1b2c3d4"
...
```

**Use Cases:**

- Visualize tree structure without TUI
- Debug tree building issues
- Export tree for analysis
- Verify component hierarchy

---

### `/focus` - Navigate to Node

In TUI mode, focuses on a specific node by path.

```
/focus <path>
```

**Path Format:**

Paths use the format: `ROOT/type[index]/type[index]`

**Examples:**

```
/focus ROOT/phase[1]/claude[1]
/focus ROOT/subagent[0]/claude[2]
/focus ROOT/worktree[0]/claude[0]
```

**Behavior:**

- Navigates TUI tree to specified node
- Expands parent nodes as needed
- Switches to detail view if node is Claude/ClaudeApi
- Shows error if path not found

**Use Cases:**

- Jump to specific node quickly
- Navigate to error location
- Follow execution flow
- Inspect deeply nested agents

**Example:**

```bash
/focus ROOT/phase[2]/claude[0]

# Output:
# ‚úì Focused on: phase[2]/claude[0]
# (TUI switches to that node)
```

---

### `/skip` - Skip Node Execution

Marks a pending node as skipped and continues to the next node.

```
/skip [<path>]
```

**Arguments:**

- `<path>` (optional): Path to specific node to skip
- (no args): Skips the first pending node

**Behavior:**

- Node execution state marked as `complete` (to prevent re-execution)
- `onFinished` callback NOT called for skipped node
- Loop continues to next pending node
- Skipped nodes show special indicator in TUI

**Use Cases:**

- Skip failing node temporarily
- Test later phases without earlier work
- Debug specific workflow branches
- Work around blocked dependencies

**Example:**

```bash
# Skip the next pending node:
/skip

# Output:
# ‚è≠ Skipped: claude[1]

# Skip a specific node:
/skip ROOT/phase[2]/claude[0]

# Output:
# ‚è≠ Skipped: phase[2]/claude[0]
```

**Warning:**

Skipping nodes can break workflows if later nodes depend on skipped node's output. Use carefully.

---

### `/inject` - Inject Context

Injects additional context into the next Claude node execution.

```
/inject <prompt>
```

**Arguments:**

- `<prompt>`: Text to append to the next agent's prompt

**Example:**

```bash
/inject The user clarifies: use TypeScript strict mode and add comprehensive tests
```

**Behavior:**

- Next Claude/ClaudeApi node gets injected text appended to its prompt
- Injection is one-time (not persisted to tree)
- Shown in TUI as `(+injected)` indicator
- Cleared after injection is used

**Use Cases:**

- Provide clarifications mid-execution
- Add context discovered during runtime
- Override or supplement agent instructions
- Test "what-if" scenarios

**Example:**

```bash
# Agent is about to generate code
/inject Also add error handling for network failures

# Output:
# ‚úì Injected context for next Claude node
# The agent will receive:
#   "Original prompt... Also add error handling for network failures"
```

---

### `/abort` - Abort Execution

Aborts execution immediately with an optional reason.

```
/abort [<reason>]
```

**Arguments:**

- `<reason>` (optional): Explanation for aborting

**Example:**

```bash
/abort Found critical bug, stopping execution

# Output:
# üõë Execution aborted: Found critical bug, stopping execution
```

**Behavior:**

- Stops Ralph loop immediately (after current frame)
- Running agents allowed to complete
- Pending agents never execute
- `executePlan()` throws `AbortError`

**Use Cases:**

- Stop execution when issue detected
- Cancel long-running workflow
- Emergency shutdown
- Prevent further damage in error cases

---

### `/help` - Show Command Help

Displays help for all commands or a specific command.

```
/help [<command>]
```

**Arguments:**

- `<command>` (optional): Command name (without `/` prefix)

**Examples:**

```bash
# Show all commands:
/help

# Output:
# Available Commands:
#   /pause          Pause execution
#   /resume         Resume execution
#   /status         Show execution status
#   /tree [--full]  Display node tree
#   ...

# Show specific command help:
/help inject

# Output:
# /inject <prompt>
#
# Injects additional context into the next Claude node execution.
# ...
```

## Command Examples

### Debugging a Failing Agent

```bash
smithers run agent.tsx --tui

# Agent fails in phase 2
/pause

# Inspect the state
/status

# View the tree
/tree

# Focus on the failing node
/focus ROOT/phase[1]/claude[1]

# Skip the failing node to test later phases
/skip ROOT/phase[1]/claude[1]

/resume
```

### Providing Runtime Clarifications

```bash
smithers run agent.tsx

# Agent asks ambiguous question
/pause

# Add clarification
/inject The user wants to use React 19 with TypeScript 5.3

/resume
```

### Monitoring Progress

```bash
smithers run long-workflow.tsx --tui

# Check status periodically
/status

# View completed work
/tree

# Jump to specific phase
/focus ROOT/phase[3]/claude[0]
```

### Testing Workflow Branches

```bash
smithers run agent.tsx

# Skip phase 1 to test phase 2
/skip ROOT/phase[0]/claude[0]

# Inject test data for phase 2
/inject Use mock data: { users: 100, orders: 500 }

/resume
```

## Programmatic Usage

You can use interactive commands programmatically through the `ExecutionController` API:

```typescript
import { executePlan, ExecutionController } from '@evmts/smithers'

const controller = new ExecutionController()

// Execute with controller
const resultPromise = executePlan(<MyAgent />, {
  controller,
})

// Control execution programmatically
setTimeout(() => {
  controller.pause()
  console.log('Paused at frame', controller.getStatus().frame)

  // Resume after 5 seconds
  setTimeout(() => controller.resume(), 5000)
}, 10000)

const result = await resultPromise
```

**Controller API:**

```typescript
class ExecutionController {
  pause(): void
  resume(): void
  abort(reason?: string): void
  getStatus(): ExecutionStatus
  skip(path?: string): void
  inject(prompt: string): void
  isPaused(): boolean
  isAborted(): boolean
}
```

## Combining with TUI

Interactive commands work best with TUI for visual feedback:

```bash
smithers run agent.tsx --tui
```

**Benefits:**

- See tree updates in real-time
- Visual indication of paused/running state
- Navigate tree with `/focus` command
- Monitor skipped nodes with visual indicators
- See injected context markers

**Without TUI:**

Commands still work, but feedback is text-only:

```bash
smithers run agent.tsx --verbose

# Type commands, get text responses:
/status
# Execution Status:
#   Frame: 5
#   ...
```

## Best Practices

### When to Use `/pause`

- **Good**: Inspect intermediate results, review output quality
- **Avoid**: Pausing after every frame (use `/status` instead)

### When to Use `/skip`

- **Good**: Work around failing dependencies, test specific branches
- **Avoid**: Skipping critical nodes that others depend on

### When to Use `/inject`

- **Good**: Provide clarifications, add missing context
- **Avoid**: Overriding core agent behavior (edit the agent instead)

### When to Use `/abort`

- **Good**: Stop on critical errors, cancel mistaken runs
- **Avoid**: Aborting to restart (use Ctrl+C instead)

## Troubleshooting

### Commands Not Working

**Symptom**: Typing `/pause` does nothing.

**Causes:**

1. Not running through CLI (`smithers run`)
2. stdin not connected (piped input)
3. Controller not initialized

**Solution**: Run with `smithers run agent.tsx` in an interactive terminal.

### `/focus` Not Navigating

**Symptom**: `/focus` command accepted but TUI doesn't move.

**Cause**: TUI not enabled (`--tui` flag missing).

**Solution**: Add `--tui` flag: `smithers run agent.tsx --tui`

### `/inject` Not Applied

**Symptom**: Injected context not visible in agent output.

**Cause**: No pending Claude nodes after injection.

**Solution**: Ensure there's a pending Claude/ClaudeApi node. Use `/status` to verify.

### Command History

Commands are not saved to history by default. Use your terminal's history feature (‚Üë arrow) to repeat commands.

## Related

<CardGroup cols={2}>
  <Card title="TUI Usage" icon="window-maximize" href="/guides/tui-usage">
    Learn about the Terminal UI
  </Card>
  <Card title="CLI Commands" icon="terminal" href="/cli/run">
    All CLI flags and options
  </Card>
  <Card title="Debugging" icon="bug" href="/guides/debugging">
    Debugging strategies for agents
  </Card>
</CardGroup>
