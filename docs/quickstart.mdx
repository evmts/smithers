---
title: Quick Start
description: Get up and running with Smithers in minutes
---

# Quick Start

This guide walks you through creating and running your first Smithers workflow.

## Prerequisites

- **[Bun](https://bun.sh)** v1.0+ (required runtime)
- **[Claude Code](https://www.npmjs.com/package/@anthropic-ai/claude-code)** - `npm install -g @anthropic-ai/claude-code`

<Note>
Smithers uses Claude Code's subscription for API access - no separate API key needed.
</Note>

## Installation

<CodeGroup>

```bash bun (recommended)
bun add smithers
```

```bash npm
npm install smithers
```

</CodeGroup>

## Your First Workflow

Create a file called `my-workflow.tsx`:

```tsx
#!/usr/bin/env bun

import { createSmithersRoot } from "smithers-orchestrator";
import { createSmithersDB } from "smithers-orchestrator/db";
import { SmithersProvider } from "smithers-orchestrator/components/SmithersProvider";
import { Claude } from "smithers-orchestrator/components/Claude";

// Create a database for state persistence
const db = await createSmithersDB({ path: ".smithers/my-task" });
const executionId = await db.execution.start("My Task", "scripts/my-task.tsx");

async function MyWorkflow() {
  return (
    <SmithersProvider db={db} executionId={executionId}>
      <Claude
        model="sonnet"
        maxTurns={10}
        onFinished={(result) => console.log("Done:", result.output)}
      >
        Analyze this codebase and suggest three improvements.
      </Claude>
    </SmithersProvider>
  );
}

const root = createSmithersRoot();
await root.mount(MyWorkflow);
await db.close();
```

## Run the Workflow

```bash
bun my-workflow.tsx
```

You'll see Claude analyze your codebase and output suggestions.

## Understanding the Code

<Steps>
  <Step title="Create Database">
    ```tsx
    const db = await createSmithersDB({ path: ".smithers/my-task" });
    ```
    The SQLite database persists all state, letting you resume workflows.
  </Step>

  <Step title="Start Execution">
    ```tsx
    const executionId = await db.execution.start("My Task", "scripts/my-task.tsx");
    ```
    Each execution is tracked with a unique ID for observability.
  </Step>

  <Step title="Wrap in Provider">
    ```tsx
    <SmithersProvider db={db} executionId={executionId}>
      {/* components */}
    </SmithersProvider>
    ```
    The provider gives all child components access to database and execution context.
  </Step>

  <Step title="Define Agent">
    ```tsx
    <Claude model="sonnet" onFinished={(result) => console.log(result)}>
      Your prompt here
    </Claude>
    ```
    The Claude component executes your prompt with the specified model.
  </Step>

  <Step title="Mount and Run">
    ```tsx
    const root = createSmithersRoot();
    await root.mount(MyWorkflow);
    ```
    The React renderer mounts your component tree and executes it.
  </Step>
</Steps>

## Multi-Phase Workflow

Here's a more complex example with phases and state:

```tsx
async function ReviewWorkflow() {
  const phase = (await db.state.get("phase")) ?? "implement";

  return (
    <SmithersProvider db={db} executionId={executionId}>
      {phase === "implement" && (
        <Claude
          model="sonnet"
          onFinished={() => db.state.set("phase", "review")}
        >
          Implement the user authentication feature.
        </Claude>
      )}

      {phase === "review" && (
        <Review
          target={{ type: "diff", ref: "main" }}
          criteria={[
            "No security vulnerabilities",
            "Tests cover edge cases",
          ]}
          onFinished={(review) => {
            if (review.approved) {
              db.state.set("phase", "complete");
            } else {
              db.state.set("phase", "implement");
            }
          }}
        />
      )}
    </SmithersProvider>
  );
}
```

This workflow:
1. Starts in the "implement" phase
2. Claude implements the feature
3. Transitions to "review" phase
4. Reviews the changes against criteria
5. Loops back to "implement" if not approved

## Let Claude Write It

The real power of Smithers: tell your agent what you want and it generates the workflow:

```
User: "Create a workflow that monitors my CI, fixes failures automatically,
       and escalates after 3 failed attempts"

Claude: *generates ci-recovery.tsx*
```

Install the Claude Code plugin to enable this:

```bash
/plugin marketplace add evmts/smithers
/plugin install smithers@smithers
```

## Inspecting State

View execution history and state with the database:

```bash
# View execution history
smithers db executions

# View current state
smithers db state

# View database statistics
smithers db stats
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Ralph Wiggum Loop" icon="rotate" href="/concepts/ralph-wiggum-loop">
    Understand the execution model
  </Card>
  <Card title="Claude Component" icon="cube" href="/components/claude">
    Learn the full Claude API
  </Card>
  <Card title="Database Persistence" icon="database" href="/concepts/database-persistence">
    Master database persistence
  </Card>
  <Card title="Examples" icon="code" href="/examples/hello-world">
    See more workflow patterns
  </Card>
</CardGroup>
