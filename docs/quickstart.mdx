---
title: Quick Start
description: Your first Smithers workflow
---

# Quick Start

## Install

```bash
bun add smithers-orchestrator
```

Requires [Bun](https://bun.sh/) 1.0+ and [Claude Code](https://www.npmjs.com/package/@anthropic-ai/claude-code).

---

## Hello World

Create `hello.tsx`:

```tsx
#!/usr/bin/env bun
import { createSmithersRoot, createSmithersDB, SmithersProvider, Claude } from "smithers-orchestrator";

const db = createSmithersDB({ path: ".smithers/hello" });
const executionId = db.execution.start("Hello", "hello.tsx");

function Hello() {
  return (
    <SmithersProvider db={db} executionId={executionId}>
      <Claude model="haiku" maxTurns={1} onFinished={(r) => console.log(r.output)}>
        Say "Hello from Smithers!"
      </Claude>
    </SmithersProvider>
  );
}

const root = createSmithersRoot();
await root.mount(Hello);
await db.close();
```

Run it:

```bash
bun hello.tsx
```

---

## Multi-Phase Workflow

Create `workflow.tsx`:

```tsx
#!/usr/bin/env bun
import {
  createSmithersRoot,
  createSmithersDB,
  SmithersProvider,
  Phase,
  Step,
  Claude,
} from "smithers-orchestrator";

const db = createSmithersDB({ path: ".smithers/workflow" });

// Resume if incomplete, else start new
let executionId: string;
const incomplete = db.execution.findIncomplete();
if (incomplete) {
  executionId = incomplete.id;
  console.log("Resuming:", executionId);
} else {
  executionId = db.execution.start("Workflow", "workflow.tsx");
}

function Workflow() {
  return (
    <SmithersProvider db={db} executionId={executionId} maxIterations={10}>
      <Phase name="research">
        <Step name="analyze">
          <Claude>Analyze the codebase structure.</Claude>
        </Step>
      </Phase>

      <Phase name="implement">
        <Step name="code">
          <Claude>Implement the feature.</Claude>
        </Step>
        <Step name="test">
          <Claude>Write tests.</Claude>
        </Step>
      </Phase>

      <Phase name="review">
        <Step name="review">
          <Claude>Review all changes.</Claude>
        </Step>
      </Phase>
    </SmithersProvider>
  );
}

const root = createSmithersRoot();
try {
  await root.mount(Workflow);
  db.execution.complete(executionId, { summary: "Done" });
} catch (err) {
  db.execution.fail(executionId, String(err));
  throw err;
} finally {
  db.close();
}
```

---

## What Each Part Does

**`createSmithersDB`** — Creates SQLite database for state persistence.

**`db.execution.start`** — Starts a new execution. Returns an ID.

**`db.execution.findIncomplete`** — Finds crashed executions to resume.

**`SmithersProvider`** — Root component. Runs the Ralph loop.

**`Phase`** — Sequential stages. Only the active phase executes.

**`Step`** — Sequential tasks within a phase.

**`Claude`** — Executes Claude with tool access. Children are the prompt.

**`createSmithersRoot`** — Creates the React reconciler.

**`root.mount`** — Renders and executes the workflow.

**`db.close`** — Flushes writes. Always call this.

---

## Let Claude Write It

Install the plugin:

```
/plugin add evmts/smithers
```

Then describe what you want:

```
Create a workflow that monitors CI, fixes failures, and escalates after 3 attempts.
```

Claude generates the `.tsx` file. Review it like any other code.

<Frame>
  <img src="/images/02_matcha_plugin.gif" alt="Plugin demo" />
</Frame>

---

## Inspect State

```bash
smithers db executions              # List runs
smithers db state --execution-id X  # View state
smithers db stats                   # Statistics
```

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Claude Component" icon="cube" href="/components/claude">
    Full API reference
  </Card>
  <Card title="Durable Ralphing" icon="rotate" href="/concepts/ralph-wiggum-loop">
    How the loop works
  </Card>
  <Card title="Examples" icon="code" href="/examples/hello-world">
    Production workflows
  </Card>
  <Card title="Database" icon="database" href="/concepts/database-persistence">
    State persistence
  </Card>
</CardGroup>
