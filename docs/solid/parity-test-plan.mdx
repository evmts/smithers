---
title: Solid Parity Test Plan
description: Validate Solid renderer output matches the React renderer
---

# Solid Parity Test Plan

This plan verifies that Solid-based rendering produces the same XML plans and execution behavior as the current React implementation.

## What Must Match

- XML plan output (`renderPlan()`).
- Execution order and stopping behavior.
- Callback results and state transitions.
- Worktree/File node handling and side effects.

## Test Matrix

| Area | Example | Expected Result |
| --- | --- | --- |
| Basic plan | Hello world | XML identical |
| Conditional render | phase toggle | XML changes only where expected |
| Parallel subagents | subagent list | execution order + concurrency same |
| Nested execution | Claude with plan | tool paths match, output stable |
| Workflow outputs | workflow.Output | values set and propagated |
| File nodes | File write | write happens once, no duplication |
| Worktree | Worktree setup | worktree created before Claude |

## Snapshot Tests

- Render the same component with React and Solid.
- Normalize whitespace.
- Assert XML strings are identical.

## Execution Tests

- Run `executePlan()` in mock mode for deterministic output.
- Validate `onFinished` and `onError` behavior.
- Validate `contentHash` changes cause re-execution.

## CLI Tests

- `smithers plan` shows identical plan output.
- `smithers run` executes with the same frame count.
- `--auto-approve` flow works the same.

## Acceptance Criteria

- No failing parity tests on core examples.
- No regressions in Worktree/File node behavior.
- CLI matches prior outputs for at least 5 reference examples.
