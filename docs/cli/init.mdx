---
title: smithers init
description: Scaffold a new Smithers agent project
---

# smithers init

Create a new Smithers project with all the necessary configuration and a starter agent template.

## Synopsis

```bash
smithers init [directory]
```

## Arguments

<ParamField path="directory" type="string" default=".">
  The directory to initialize. Creates the directory if it doesn't exist. Defaults to the current directory.

  ```bash
  smithers init my-agent-project
  smithers init .
  smithers init ~/projects/research-agents
  ```
</ParamField>

## What It Creates

```
my-agent-project/
  package.json         # Dependencies configured
  tsconfig.json        # TypeScript with JSX support
  .env.example         # API key template
  .gitignore           # Standard ignores
  src/
    agent.tsx          # Starter agent template
    tools.ts           # Example tool definitions
```

### package.json

```json
{
  "name": "my-agent-project",
  "type": "module",
  "scripts": {
    "dev": "smithers run src/agent.tsx",
    "plan": "smithers plan src/agent.tsx",
    "build": "tsc"
  },
  "dependencies": {
    "smithers": "^1.0.0",
    "zustand": "^4.5.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "typescript": "^5.3.0"
  }
}
```

### tsconfig.json

```json
{
  "compilerOptions": {
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "jsx": "react-jsx",
    "jsxImportSource": "react",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "types": ["smithers/jsx"]
  },
  "include": ["src/**/*"]
}
```

### src/agent.tsx

```tsx
import { create } from 'zustand'
import { Claude, Phase, Step, Constraints } from 'smithers'

// Agent state management
const useAgentStore = create((set) => ({
  phase: 'analyze' as 'analyze' | 'report',
  findings: null as any,
  setFindings: (findings: any) => set({ findings, phase: 'report' }),
}))

// Main agent component
export function Agent({ target }: { target: string }) {
  const { phase, findings, setFindings } = useAgentStore()

  if (phase === 'analyze') {
    return (
      <Claude onFinished={setFindings}>
        <Constraints>
          - Be thorough but concise
          - Focus on actionable insights
        </Constraints>

        <Phase name="analysis">
          <Step>Analyze {target}</Step>
          <Step>Identify key patterns</Step>
          <Step>Note any issues or improvements</Step>
        </Phase>
      </Claude>
    )
  }

  return (
    <Claude>
      <Phase name="report">
        Generate a summary report based on:
        {JSON.stringify(findings)}
      </Phase>
    </Claude>
  )
}
```

### .env.example

```bash
# Required: Your Anthropic API key
ANTHROPIC_API_KEY=sk-ant-...

# Optional: Default model
SMITHERS_MODEL=claude-sonnet-4-20250514

# Optional: Auto-approve plans (for CI/CD)
SMITHERS_AUTO_APPROVE=false
```

## Examples

### Create in New Directory

```bash
smithers init my-agent
cd my-agent
npm install
npm run dev -- --props '{"target": "example.com"}'
```

### Initialize Current Directory

```bash
mkdir research-agent
cd research-agent
smithers init
npm install
```

### With Immediate Setup

```bash
smithers init security-scanner && cd security-scanner && npm install
```

## Post-Init Steps

After running `smithers init`:

<Steps>
  <Step title="Install dependencies">
    ```bash
    npm install
    # or
    bun install
    ```
  </Step>

  <Step title="Configure API key">
    ```bash
    cp .env.example .env
    # Edit .env and add your ANTHROPIC_API_KEY
    ```
  </Step>

  <Step title="Preview the starter agent">
    ```bash
    npm run plan -- --props '{"target": "my-codebase"}'
    ```
  </Step>

  <Step title="Run the agent">
    ```bash
    npm run dev -- --props '{"target": "my-codebase"}'
    ```
  </Step>
</Steps>

## Project Variants

<Info>
  Coming soon: Template variants for common use cases.
</Info>

Future versions will support:

```bash
smithers init --template code-review
smithers init --template research
smithers init --template data-pipeline
```

## Related Commands

<CardGroup cols={2}>
  <Card title="smithers run" icon="play" href="/cli/run">
    Execute your agent
  </Card>
  <Card title="smithers plan" icon="eye" href="/cli/plan">
    Preview agent plans
  </Card>
</CardGroup>
