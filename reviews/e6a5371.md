# Review: e6a5371

**Commit:** e6a537176a59aa678646924bfa1ef4958d5eeb62
**Message:** feat: implement Terminal UI (TUI) for interactive execution monitoring
**Date:** 2026-01-07 00:18:38 UTC

## Feedback

- `src/cli/commands/run.ts:186-246` — `createCliRenderer()` is created but `renderer.cleanup()` only runs on the success path; if `executePlan` throws or the TUI render throws, the terminal can be left in raw mode. Wrap TUI execution in `try/finally` and always call `renderer.cleanup()` (and potentially `tuiRoot.unmount()` if supported).
- `src/tui/TuiRoot.tsx:138-140` — `findNodeByPath(... )!` can return `null` after a tree update (e.g., node removed/reordered), which will crash the TUI when entering detail view. Guard for `null` and fall back to tree view or a placeholder panel.
- `src/tui/AgentPanel.tsx:71-130` — `scrollOffset` is never used, so Up/Down in detail view does nothing even though the status bar advertises scrolling. Wire `scrollOffset` into the `scrollbox` (if supported) or remove the controls to avoid misleading UX.
