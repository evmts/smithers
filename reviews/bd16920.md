# Review: bd16920

**Commit:** bd1692013056c9ecd8f62cfd6213644f5c1b1e43
**Message:** fix: correct worktree test API usage and prevent execution with failed worktree ancestors
**Date:** 2026-01-07 00:03:13 UTC

## Feedback

- Potential silent failure: `findPendingExecutables` now skips Claude nodes with failed worktree ancestors but does not mark those nodes as errored, so the main loop can terminate with `no_pending_nodes` even though worktree setup failed and no exception is surfaced (previously `getWorktreePath` would throw during execution). Consider explicitly marking skipped nodes as error or propagating the worktree error to the execution result so callers can detect failure (`src/core/execute.ts:1354-1374`).  
- Test coverage regression: the non-git-repo failure test is now fully skipped with no replacement, which removes coverage for `process.chdir`/repo-detection behavior; consider isolating it in a child process or using a temporary repo fixture to keep the assertion (`evals/worktree.test.tsx:173-177`).
