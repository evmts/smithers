# Review: 3a7b189

**Commit:** 3a7b18943e216a601a06665d918fd31b065ac723
**Message:** docs: improve hero example with renderPlan/executePlan and multi-phase workflow
**Date:** 2026-01-05 21:28:38 UTC

## Feedback

Calling `setPhase('write')` during render is a side effect and will trigger re-render loops. Move the phase transition into an effect or an `onFinished` handler (e.g., `useEffect` watching `analysis`/`sources`) to avoid state updates during render.  
Also, with `sources.length === 0`, that line will immediately transition to `write` (still in render), which is likely unintended. Consider guarding the transition until `sources.length > 0`.
