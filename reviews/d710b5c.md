# Review: d710b5c

**Commit:** d710b5cac550c18afd211878d5442587ef3929cd
**Message:** üêõ fix(tests): add explicit mockMode and update test setup
**Date:** 2026-01-06 02:05:02 UTC

## Feedback

Significant issue:
- `evals/setup.ts` now only has a comment and removes the global `SMITHERS_MOCK_MODE` default. Most tests still call `executePlan(...)` without `{ mockMode: true }` (e.g., `evals/code-review.test.tsx`, `evals/all-features.test.tsx`, `evals/components.test.tsx`, etc.), so they‚Äôll now attempt real API calls and fail in CI/local unless a real `ANTHROPIC_API_KEY` is set. That‚Äôs a behavior change and makes tests flaky/unusable.

Actionable fix:
- Either restore the env default in `evals/setup.ts` or update *all* tests that rely on mocks to pass `{ mockMode: true }` (or add a global test helper that sets a default mock mode).
